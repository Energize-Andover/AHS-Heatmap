<!DOCTYPE html>
<html lang="en">
{% import 'macros.html' as macros %}
{{ macros.head(title) }}
<body>
<header>
    {{ macros.nav() }}
</header>
<main id="about-main">
    <section class="section">
        <div class="container" style="padding: 3em;">
            <h1 class="is-size-2 has-text-centered title">About AHS Heatmaps</h1>
        </div>

        <h1 class="is-size-3 has-text-centered title section-title">The Purpose</h1>
        <p class="is-size-5">The purpose of this application is to provide live temperature and carbon dioxide data in
            an easy-to-understand format. Various sensors across the school are read, their data is compiled, and
            interactive maps are generated. The maps on the site are regenerated by the server and updated every 5
            minutes.</p>
    </section>
    <section class="section blue">

        <h1 class="is-size-3 has-text-centered title section-title">How It Works</h1>
        <p class="is-size-5">The application is written in Python. The application first requests data from a server
            connected to the various sensors placed around the school by <a href="https://energizeandover.com"
                                                                            target="_blank">Energize Andover</a>. It
            then iterates through a supplied folder of maps in SVG format, with one file/image per floor. Each file is
            converted into various alternate formats, using <a href="https://inkscape.org" target="_blank">inkscape's
                command-line tool</a>. Various python libraries are utilized to detect text in the converted files, and
            extract both the text and its pixel location in the image. Finally, <a href="https://opencv.org/"
                                                                                   target="_blank">OpenCV</a>, an
            open-source computer vision library, to find rooms around these coordinates, and extract the location and
            dimensions of their rectangular shapes. Finally, all this information is combined with the original data to
            create a new, colored map. Custom JavaScript code makes these maps interactive. You can learn more about
            this project and find a more in-depth explanation on <a href="https://ivanovich.us" target="_blank">my
                website</a>.</p>
    </section>
    <section class="section">

        <h1 class="is-size-3 has-text-centered title section-title">Interpretation</h1>
        <p class="is-size-5">To properly interpret the data supplied by this application, use the following as a
            guide:</p>
        <br>
        <ul class="is-size-5" style="padding-left: 4em; list-style: disc">
            <li>The rooms' colors range from light blue to red, assigned as follows:</li>
            <li style="margin-left: 2em">Pure light blue is given to any room with a temperature of at most
                {{ blue_values[0] }}&deg;F, or carbon dioxide levels of at most {{ blue_values [1] }} parts per million
                (PPM). This signals unusually cold temperatures, which may cause problems for students and faculty and
                may signify
                problems with the heating system, or unusually low CO2 levels, which is not problematic.
            </li>
            <li style="margin-left: 2em">Pure green is given to any room with a temperature of
                {{ green_values[0] }}&deg;F, or carbon dioxide levels of {{ green_values [1] }} PPM. This signals
                normal temperatures or normal CO2 levels, neither of which is not problematic.
            </li>
            <li style="margin-left: 2em">Pure Red is given to any room with a temperature of at least
                {{ red_values[0] }}&deg;F, or carbon dioxide levels of at least {{ red_values [1] }} PPM. This signals
                unusually high temperatures or CO2 levels, both of which can be dangerous to students and faculty and
                could signify problems with the room's ventilation.
            </li>
            <li>Consistent, unbelievably high or low sensor readings for a particular room likely indicate a broken
                sensor. Please report any such problematic rooms by emailing <a
                        href="mailto:energizeandover@gmail.com?Subject=Possibly Broken Sensor (AHS Heatmaps)">energizeandover@gmail.com</a>.
            </li>
        </ul>
        <br>
        <p class="is-size-5">A sample map may be seen below:</p>
        <br>
        <img src="static/img/Sample-Map.png" alt="Sample Map"
             style="background-color: white; display: block; margin: 0 auto; width: 80%; height: auto;">
    </section>
    <section class="section blue">

        <h1 class="is-size-3 has-text-centered title section-title">History</h1>
        <p class="is-size-5">This application was made by <a href="https://ivanovich.us" target="_blank">Daniel
            Ivanovich</a> as an independent project for the <a href="https://energizeandover.com" target="_blank">Energize
            Andover Program</a> between the fall of 2018 and the fall of 2019.</p>
    </section>
</main>
{{ macros.footer(year) }}
</body>
</html>
